<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-14X8EGCXSH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-14X8EGCXSH');
    </script>
    
    <title>OPT PLANNER - OPT Timeline Planner</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="background-animation">
        <div class="floating-number" data-number="90">90</div>
        <div class="floating-number" data-number="60">60</div>
        <div class="floating-number" data-number="12">12</div>
        <div class="floating-number" data-number="24">24</div>
    </div>

    <div class="app-container">
        <!-- Buy Me a Coffee Button -->
        <div class="coffee-section">
            <a href="https://donate.cancer.org/?campaign=searchmedia&utm_source=google&utm_medium=cpc&utm_campaignid=22866610247&utm_adgroupid=&utm_keyword=&gad_source=1&gad_campaignid=22860832071&gbraid=0AAAAAD2heed9jeR9efLUmUL68FjaAPLEj&gclid=Cj0KCQjw-4XFBhCBARIsAAdNOkui_TGaDZ6oEpJ6O2TqHPD7NEbw2zhTStsa4a20exoRBlC1_HPC4cYaAtNoEALw_wcB" 
               target="_blank" 
               class="coffee-button">
                <span class="coffee-icon">‚òï</span>
                <div class="coffee-text">
                    <span class="coffee-title">Buy Me a Coffee</span>
                    <span class="coffee-subtitle">(I'm fortunate to handle it! Donate to cancer research instead üòÑ)</span>
                </div>
                <span class="coffee-arrow">‚Üí</span>
            </a>
        </div>

        <!-- Navigation Menu -->
        <nav class="main-navigation">
            <div class="nav-container">
                <div class="nav-brand">
                    <h1 class="site-title">OPT PLANNER</h1>
                </div>
                <div class="nav-menu">
                    <a href="index.html" class="nav-link active">
                        <span class="nav-icon">üè†</span>
                        <span>Home</span>
                    </a>
                    <a href="/guide" class="nav-link">
                        <span class="nav-icon">üìã</span>
                        <span>Step-by-Step Guide</span>
                    </a>
                </div>
            </div>
        </nav>

        <!-- Main OPT PLANNER Heading -->
        <div class="main-heading">
            <h1 class="main-title">OPT PLANNER</h1>
            <div class="planning-quote">
                <p>"Time lost is never found again. Plan ahead."</p>
            </div>
        </div>

        <!-- OPT Timeline Metrics Section -->
        <div class="timeline-metrics">
            <h2 class="metrics-title">OPT Timeline</h2>
            <div class="metrics-grid">
                <div class="metric-item">
                    <span class="metric-number">90</span>
                    <span class="metric-label">Days Before</span>
                </div>
                <div class="metric-item">
                    <span class="metric-number">60</span>
                    <span class="metric-label">Days After</span>
                </div>
                <div class="metric-item">
                    <span class="metric-number">12</span>
                    <span class="metric-label">Months OPT</span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-grid">
                <!-- Left Panel - Input Form -->
                <div class="input-panel">
                    <div class="panel-header">
                        <h2>OPT Timeline</h2>
                        <p>Enter your information to calculate OPT timelines</p>
                    </div>
                    
                    <form id="plannerForm" class="planner-form">
                        <div class="form-group">
                            <label for="graduationDate">Graduation Date</label>
                            <div class="date-input-wrapper">
                                <div class="custom-date-picker" id="customDatePicker">
                                    <div class="picker-header">
                                        <button type="button" class="picker-nav" id="prevMonth" aria-label="Previous month">‚Äπ</button>
                                        <span class="current-month" id="currentMonth">December 2024</span>
                                        <button type="button" class="picker-nav" id="nextMonth" aria-label="Next month">‚Ä∫</button>
                                    </div>
                                    <div class="picker-days-header">
                                        <span>Sun</span>
                                        <span>Mon</span>
                                        <span>Tue</span>
                                        <span>Wed</span>
                                        <span>Thu</span>
                                        <span>Fri</span>
                                        <span>Sat</span>
                                    </div>
                                    <div class="picker-days" id="pickerDays"></div>
                                    <div class="picker-actions">
                                        <button type="button" class="picker-btn today-btn" id="todayBtn">Today</button>
                                        <button type="button" class="picker-btn clear-btn" id="clearBtn">Clear</button>
                                    </div>
                                </div>
                                <input type="date" id="graduationDate" required style="display: none;">
                                <button type="button" class="date-trigger-btn" id="dateTriggerBtn" aria-label="Open date picker to choose graduation date" aria-haspopup="true" aria-expanded="false">
                                    <span class="btn-icon">üìä</span>
                                    <span class="btn-text">Choose Graduation Date</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="programLevel">
                                <span class="label-icon">‚ö°</span>
                                Program Level
                            </label>
                            <select id="programLevel">
                                <option value="bachelors">Bachelor's</option>
                                <option value="masters" selected>Master's</option>
                                <option value="phd">PhD</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="isSTEM">
                                <span class="label-icon">‚öôÔ∏è</span>
                                STEM Extension
                            </label>
                            <select id="isSTEM">
                                <option value="no" selected>No (12 months)</option>
                                <option value="yes">Yes (24 months)</option>
                            </select>
                        </div>
                        
                        <div class="form-group" id="stemOptEndGroup" style="display: none;">
                            <label for="stemOptEndDate">
                                <span class="label-icon">‚è∞</span>
                                OPT End Date
                                <span class="help-text">(When your current OPT expires - for STEM extension planning)</span>
                            </label>
                            <div class="date-input-wrapper">
                                <!-- Simple date display -->
                                <div class="date-display" id="stemDateDisplay">
                                    <span class="date-text">Select OPT End Date</span>
                                    <button type="button" class="date-picker-btn" id="openStemDatePicker">
                                        <span class="btn-icon">üìä</span>
                                        Choose Date
                                    </button>
                                </div>
                                
                                <!-- Hidden input for form submission -->
                                <input type="hidden" id="stemOptEndDate">
                                

                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <span class="btn-text">Calculate Timeline</span>
                                <span class="btn-icon">‚Üí</span>
                            </button>
                            <div class="legal-notice">
                                <small>This tool is for educational purposes only. Always verify with official USCIS sources.</small>
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Right Panel - Results & USCIS -->
                <div class="results-panel">
                    <!-- Timeline Results -->
                    <div id="timelineResults" class="timeline-section hidden">
                        <div class="section-header">
                            <h3>Your OPT Timeline</h3>
                            <p>Based on current USCIS regulations</p>
                        </div>
                        
                        <div class="timeline-grid">
                            <div class="timeline-item critical">
                                <div class="timeline-icon">üöÄ</div>
                                <div class="timeline-content">
                                    <h4>First Day You Can Apply</h4>
                                    <div class="timeline-date" id="earliestFiling"></div>
                                    <p>You can submit your OPT application starting from this date</p>
                                </div>
                            </div>
                            
                            <div class="timeline-item important">
                                <div class="timeline-icon">‚è≥</div>
                                <div class="timeline-content">
                                    <h4>Last Day You Can Apply</h4>
                                    <div class="timeline-date" id="latestFiling"></div>
                                    <p>You must submit your OPT application by this date</p>
                                </div>
                            </div>
                            
                            <div class="timeline-item info">
                                <div class="timeline-icon">üìä</div>
                                <div class="timeline-content">
                                    <h4>Earliest OPT Start Date</h4>
                                    <div class="timeline-date" id="startWindow"></div>
                                    <p id="startWindowText">Earliest date you can begin working on OPT</p>
                                </div>
                            </div>
                            
                            <div class="timeline-item success">
                                <div class="timeline-icon">üíé</div>
                                <div class="timeline-content">
                                    <h4>How Long OPT Lasts</h4>
                                    <div class="timeline-date" id="optDuration"></div>
                                    <p id="optDurationText">Total time you can work on OPT</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- STEM Extension Timeline (if applicable) -->
                        <div id="stemTimeline" class="stem-timeline hidden">
                            <div class="section-header">
                                <h4>STEM Extension Timeline</h4>
                                <p>Additional 24-month extension details</p>
                            </div>
                            <div class="timeline-grid">
                                <div class="timeline-item info">
                                    <div class="timeline-icon">‚ö°</div>
                                    <div class="timeline-content">
                                        <h4>STEM Extension Filing</h4>
                                        <div class="timeline-date" id="stemFilingWindow"></div>
                                        <p>File up to 90 days before OPT expires (recommended to file before expiration)</p>
                                    </div>
                                </div>
                                <div class="timeline-item success">
                                    <div class="timeline-icon">üåü</div>
                                    <div class="timeline-content">
                                        <h4>Total OPT Period</h4>
                                        <div class="timeline-date" id="totalOptPeriod"></div>
                                        <p>Combined standard + STEM extension</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="countdown-section">
                            <h4>Time Remaining</h4>
                            <div class="countdown-grid">
                                <div class="countdown-item">
                                    <span class="countdown-number" id="daysUntilEarliest">-</span>
                                    <span class="countdown-label">Days until earliest filing</span>
                                </div>
                                <div class="countdown-item">
                                    <span class="countdown-number" id="daysUntilLatest">-</span>
                                    <span class="countdown-label">Days until latest filing</span>
                                </div>
                            </div>
                            <div class="current-time-display">
                                <small>Calculated as of: <span id="currentTimeDisplay">-</span></small>
                            </div>
                        </div>

                        <!-- Calendar Integration Section -->
                        <div class="calendar-section">
                            <div class="calendar-header">
                                <h4>üìÖ Add Critical Deadlines to Calendar</h4>
                                <p>Never miss an OPT filing deadline! Add these important dates to your calendar with reminders</p>
                            </div>
                            <div class="calendar-events">
                                <div class="calendar-event" id="earliestFilingEvent">
                                    <div class="event-info">
                                        <div class="event-date" id="earliestFilingDate">-</div>
                                        <div class="event-details">
                                            <h5>Earliest Filing Date</h5>
                                            <p>First day you can submit your OPT application</p>
                                        </div>
                                    </div>
                                    <button class="calendar-add-btn" id="addEarliestFiling" data-date="" data-title="OPT Application - Earliest Filing Date" data-description="First day you can submit your OPT application">
                                        <span class="btn-icon">üìÖ</span>
                                        <span class="btn-text">Add</span>
                                    </button>
                                </div>
                                
                                <div class="calendar-event" id="latestFilingEvent">
                                    <div class="event-info">
                                        <div class="event-date" id="latestFilingDate">-</div>
                                        <div class="event-details">
                                            <h5>Latest Filing Date</h5>
                                            <p>Last day you can submit your OPT application</p>
                                        </div>
                                    </div>
                                    <button class="calendar-add-btn" id="addLatestFiling" data-date="" data-title="OPT Application - Latest Filing Date" data-description="Last day you can submit your OPT application">
                                        <span class="btn-icon">üìÖ</span>
                                        <span class="btn-text">Add</span>
                                    </button>
                                </div>
                            </div>
                            <div class="calendar-info">
                                <small>‚ú® Calendar invites work with Google Calendar, Apple Calendar, Outlook, and most calendar apps</small>
                            </div>
                        </div>
                    </div>

                    <!-- USCIS Status Checker -->
                    <div class="uscis-section">
                        <div class="section-header">
                            <h3>USCIS Case Status Checker</h3>
                            <p>Check your application status using the official USCIS website</p>
                        </div>
                        
                        <form id="uscisForm" class="uscis-form">
                            <div class="form-group">
                                <label for="receiptNumber">Receipt Number</label>
                                <input type="text" id="receiptNumber" placeholder="e.g., EAC9999103403" required>
                                <small class="form-help">Enter your USCIS receipt number to copy and paste in the status tracker</small>
                            </div>
                            
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">
                                    <span class="btn-text">Check Case Status</span>
                                    <span class="btn-icon">üìã</span>
                                </button>
                            </div>
                        </form>
                        
                        <!-- USCIS Results -->
                        <div id="uscisResults" class="uscis-results hidden">
                            <div class="status-header">
                                <h4>Case Status Results</h4>
                                <span class="status-badge" id="statusBadge">Processing</span>
                            </div>
                            <div class="status-details">
                                <div class="detail-item">
                                    <span class="detail-label">Receipt Number:</span>
                                    <span class="detail-value" id="resultReceiptNumber">-</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Status:</span>
                                    <span class="detail-value" id="resultStatus">-</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Last Updated:</span>
                                    <span class="detail-value" id="resultLastUpdated">-</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Description:</span>
                                    <span class="detail-value" id="resultDescription">-</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Info Section -->
                    <div class="info-section">
                        <h4>Important Notes</h4>
                        <ul class="info-list">
                            <li>File I-765 between 90 days before and 60 days after graduation</li>
                            <li>OPT must start within 60 days of graduation</li>
                            <li>STEM graduates may be eligible for 24-month extension</li>
                            <li>STEM extension can be filed up to 90 days before OPT expires (recommended to file before expiration)</li>
                            <li>Always verify dates with your DSO and current regulations</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>Checking USCIS status...</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 